  В этом примере создадим простой gRPC сервис на Java, который принимает имя и возвращает приветственное сообщение.

1. Создание файла helloworld.proto с определением сервиса и сообщений (файл уже есть в проекте)

2. Генерация кода Java, используя protobuf компилятор (protoc) и плагин gRPC для Java. 
Примечание. На самом деле можно использовать maven плагин для генерации классов, но в данном примере всё выполняем вручную.
> protoc --plugin=protoc-gen-grpc-java=path/to/grpc-java-plugin --grpc-java_out=src/main/java --proto_path=src/main/proto helloworld.proto

protoc - устанавливается просто apt-get-ом. Например:
> sudo apt install protobuf-compiler

  Плагин protoc-gen-grpc-java для linux уже есть в проекте, но лучше будет установить в системе и добавить в PATH, чтобы можно
было вообще не указывать параметр --plugin.
  Чтобы установить плагин gRPC для Java, который используется для генерации кода на Java с помощью protobuf компилятора(protoc),
выполните следующие шаги:
  Загрузите предварительно скомпилированный исполняемый файл плагина protoc-gen-grpc-java для вашей операционной системы (
Linux, macOS или Windows) со страницы выпусков gRPC-java на GitHub. Найдите соответствующий вашей ОС архив,
который содержит исполняемый файл, например: protoc-gen-grpc-java-1.42.1-windows-x86_64.exe для Windows или
protoc-gen-grpc-java-1.42.1-linux-x86_64.exe для Linux.
  Распакуйте скачанный архив и переместите исполняемый файл плагина в каталог, доступный в вашей переменной окружения
PATH. Это может быть /usr/local/bin на Unix-подобных системах или любой каталог, указанный в переменной PATH на вашей
системе. Или можно положить куда угодно, только надо будет указывать абсолютный или относительный путь относительно той
директории, в которой будем выполнять protoc.
  Убедитесь, что имя исполняемого файла имеет вид protoc-gen-grpc-java (без расширения `.exe` на Unix-подобных системах).
Это необходимо для того, чтобы protobuf компилятор (protoc) смог найти и использовать плагин gRPC для Java.

  Проверьте, что плагин успешно установлен и доступен в вашей системе, выполнив следующую команду в командной строке или
терминале:
> protoc-gen-grpc-java --version

  Если установка прошла успешно, вы увидите сообщение, которое выводит версию плагина, например:
> protoc-gen-grpc-java 1.42.1

  Теперь вы можете использовать плагин gRPC для Java с protobuf компилятором (protoc) для генерации кода на Java, указав
путь к исполняемому файлу плагина в опции --plugin:
> protoc --plugin=protoc-gen-grpc-java=path/to/protoc-gen-grpc-java --grpc-java_out=src/main/java --proto_path=src/main/proto helloworld.proto

  После этого компилятор protobuf сгенерирует код Java для gRPC, который вы сможете использовать в своих серверных и
клиентских приложениях.

  Мой пример запроса, который выполняется в директории src/main/java:
> protoc --plugin=protoc-gen-grpc-java=com/company/grpc/plugin/protoc-gen-grpc-java --proto_path=com/company/grpc/config --java_out=. --grpc-java_out=. com/company/grpc/config/helloworld.proto

  В примере клиент и сервер используют одни и те же сгенерированные классы:
- GreeterGrpc. Клиент использует класс для выполнения запросов на сервер в сервис Greeter. Сервер - для создания реализации сервиса Greeter.
- HelloRequest. Клиент использует класс для создания запроса, который отправит серверу. Сервер принимает этот запрос.
- HelloReply. Клиент использует класс для получения ответа от сервера на запрос. Сервер отправляет ответ клиенту на его запрос.

3. Запустите сервер HelloWorldServer, а затем клиент HelloWorldClient. Клиент должен вывести ответ от сервера:
> Server response: Hello, John Doe!









